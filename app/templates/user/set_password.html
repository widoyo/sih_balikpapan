{% extends 'base.html' %}
{% block content %}
<div class="container">
  <div class="row">
    <div class="col-md-6">
      <h1>Atur Ulang Password</h1>
      
      <form action="/user/{{ user.username }}/password" method="POST">
        {{ form.hidden_tag() }}
        <div class="mb-3">
          <label for="">Username</label>
          <b>{{ user.username }}</b>
        </div>
        <div class="mb-3">
          <label for="">{{ form.new_password.label }}</label>
          {{ form.new_password(class="form-control") }}
        </div>
        <div class="mb-3"><input id="submit" type="submit" class="btn btn-primary" value="Ganti Password" disabled> <a href="javascript:history.back()" class="btn btn-light">Batal</a></div>        
      </form>
    </div>
  </div>
</div>
{% endblock %}
{% block js_foot %}
<script>
  document.getElementById('new_password').addEventListener('input', (e) => {
    if (e.target.value.length < 4) {
      document.getElementById('submit').disabled = true;
    } else {
      document.getElementById('submit').disabled = false;
    }
//    document.getElementById('username1').value = e.target.value.replace(/^[0-9a-zA-Z]/g, '')
    console.log(e.target.value);
  });
</script>
{% endblock %}